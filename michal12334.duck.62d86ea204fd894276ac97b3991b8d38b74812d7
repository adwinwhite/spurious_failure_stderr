Running as unit: run-p2356647-i14936753.scope; invocation ID: 2c01d2c454a14329a2829d3795ce01ef
    Blocking waiting for file lock on package cache
    Checking cfg-if v1.0.0
   Compiling proc-macro2 v1.0.82
   Compiling unicode-ident v1.0.12
   Compiling autocfg v1.3.0
   Compiling libc v0.2.154
   Compiling pkg-config v0.3.30
    Checking once_cell v1.19.0
   Compiling xml-rs v0.8.20
    Checking log v0.4.21
    Checking libloading v0.8.3
    Checking smallvec v1.13.2
    Checking dlib v0.5.2
   Compiling khronos_api v3.1.0
    Checking scoped-tls v1.0.1
    Checking downcast-rs v1.2.1
   Compiling cfg_aliases v0.1.1
    Checking bitflags v2.5.0
   Compiling quote v1.0.36
   Compiling gl_generator v0.14.0
   Compiling thiserror v1.0.60
   Compiling syn v2.0.63
    Checking bitflags v1.3.2
   Compiling version_check v0.9.4
   Compiling rustix v0.38.34
    Checking linux-raw-sys v0.4.13
   Compiling cc v1.0.97
   Compiling wayland-scanner v0.29.5
   Compiling memoffset v0.6.5
    Checking simd-adler32 v0.3.7
   Compiling num-traits v0.2.19
    Checking lazy_static v1.4.0
   Compiling wayland-sys v0.31.1
   Compiling wayland-sys v0.29.5
    Checking adler v1.0.2
    Checking miniz_oxide v0.7.2
   Compiling x11-dl v2.21.0
    Checking xcursor v0.3.5
   Compiling crc32fast v1.4.0
   Compiling wayland-client v0.29.5
   Compiling wayland-backend v0.3.3
    Checking nix v0.24.3
   Compiling lock_api v0.4.12
    Checking arrayvec v0.7.4
   Compiling slotmap v1.0.7
   Compiling crossbeam-utils v0.8.19
   Compiling memchr v2.7.2
    Checking scopeguard v1.2.0
    Checking flate2 v1.0.30
    Checking wayland-commons v0.29.5
   Compiling quick-xml v0.31.0
   Compiling wayland-protocols v0.29.5
    Checking getrandom v0.2.15
    Checking percent-encoding v2.3.1
    Checking ttf-parser v0.21.1
   Compiling wayland-scanner v0.31.1
    Checking owned_ttf_parser v0.21.0
    Checking nix v0.25.1
    Checking fdeflate v0.3.4
   Compiling smithay-client-toolkit v0.16.1
   Compiling bytemuck_derive v1.6.0
   Compiling thiserror-impl v1.0.60
    Checking vec_map v0.8.2
    Checking raw-window-handle v0.5.2
    Checking ab_glyph_rasterizer v0.1.8
    Checking png v0.17.13
    Checking ab_glyph v0.2.26
    Checking crossbeam-epoch v0.9.18
    Checking bytemuck v1.16.0
    Checking calloop v0.10.6
    Checking wayland-client v0.31.2
    Checking wayland-cursor v0.29.5
    Checking memmap2 v0.5.10
   Compiling ahash v0.8.11
   Compiling rayon-core v1.12.1
    Checking arrayref v0.3.7
   Compiling parking_lot_core v0.9.10
    Checking strict-num v0.1.1
    Checking crossbeam-deque v0.8.5
    Checking tiny-skia-path v0.8.4
    Checking num-integer v0.1.46
   Compiling slab v0.4.9
   Compiling paste v1.0.15
    Checking tracing-core v0.1.32
    Checking zerocopy v0.7.34
    Checking pin-project-lite v0.2.14
    Checking tinyvec_macros v0.1.1
    Checking tinyvec v1.6.0
    Checking tracing v0.1.40
    Checking tiny-skia v0.8.4
    Checking num-bigint v0.4.5
   Compiling winit v0.28.7
   Compiling glutin_egl_sys v0.5.1
   Compiling glutin_glx_sys v0.4.0
   Compiling wayland-sys v0.30.1
    Checking either v1.11.0
    Checking as-raw-xcb-connection v1.0.1
    Checking x11rb-protocol v0.13.1
   Compiling anyhow v1.0.83
    Checking num-rational v0.4.2
    Checking parking_lot v0.12.2
    Checking unicode-normalization v0.1.23
    Checking wayland-protocols v0.31.2
    Checking polling v3.7.0
    Checking mio v0.8.11
   Compiling glutin v0.30.10
    Checking instant v0.1.12
    Checking aligned-vec v0.5.0
    Checking minimal-lexical v0.2.1
    Checking unicode-bidi v0.3.15
   Compiling built v0.7.2
    Checking nom v7.1.3
    Checking idna v0.5.0
   Compiling rav1e v0.7.1
    Checking v_frame v0.3.8
    Checking calloop v0.12.4
    Checking rayon v1.10.0
    Checking emath v0.23.0
    Checking ecolor v0.23.0
   Compiling profiling-procmacros v1.0.15
    Checking form_urlencoded v1.2.1
   Compiling backtrace v0.3.71
   Compiling glutin_glx_sys v0.5.0
   Compiling glutin_egl_sys v0.6.0
   Compiling glutin-winit v0.3.0
   Compiling memoffset v0.9.1
    Checking libloading v0.7.4
    Checking sctk-adwaita v0.5.4
    Checking cursor-icon v1.1.0
    Checking gimli v0.28.1
    Checking nohash-hasher v0.2.0
    Checking xkeysym v0.2.0
   Compiling syn v1.0.109
   Compiling smithay-client-toolkit v0.18.1
    Checking wayland-csd-frame v0.3.0
    Checking epaint v0.23.0
    Checking maybe-rayon v0.1.1
    Checking wayland-protocols-wlr v0.2.0
    Checking av1-grain v0.2.3
    Checking url v2.5.0
    Checking profiling v1.0.15
    Checking calloop-wayland-source v0.2.0
    Checking itertools v0.12.1
    Checking wayland-cursor v0.31.1
    Checking safe_arch v0.7.1
    Checking addr2line v0.21.0
    Checking object v0.32.2
   Compiling arg_enum_proc_macro v0.3.4
   Compiling num-derive v0.4.2
    Checking spin v0.9.8
    Checking memmap2 v0.9.4
   Compiling glium v0.33.0
   Compiling simd_helpers v0.1.0
   Compiling glutin v0.31.3
   Compiling winit v0.29.15
   Compiling matrixmultiply v0.3.8
    Checking weezl v0.1.8
   Compiling noop_proc_macro v0.3.0
   Compiling typenum v1.17.0
    Checking rustc-demangle v0.1.24
    Checking bitstream-io v2.3.0
    Checking home v0.5.9
    Checking new_debug_unreachable v1.0.6
    Checking imgref v1.10.1
    Checking webbrowser v0.8.15
    Checking loop9 v0.1.5
    Checking flume v0.11.0
    Checking wide v0.7.19
    Checking x11rb v0.13.1
    Checking egui v0.23.0
    Checking xkbcommon-dl v0.4.2
    Checking smithay-clipboard v0.6.6
    Checking wayland-protocols-plasma v0.2.0
    Checking arboard v3.4.0
    Checking rgb v0.8.37
    Checking rand_core v0.6.4
    Checking avif-serialize v0.8.1
    Checking num-complex v0.4.6
    Checking approx v0.5.1
    Checking zune-inflate v0.2.54
   Compiling glutin-winit v0.4.2
    Checking half v2.4.1
    Checking bit_field v0.10.2
    Checking ppv-lite86 v0.2.17
    Checking takeable-option v0.5.0
    Checking zune-core v0.4.12
    Checking web-time v0.2.4
    Checking lebe v0.5.2
    Checking byteorder-lite v0.1.0
    Checking fnv v1.0.7
    Checking color_quant v1.1.0
    Checking smol_str v0.2.2
    Checking quick-error v2.0.1
    Checking rawpointer v0.2.1
    Checking jpeg-decoder v0.3.1
    Checking gif v0.13.1
    Checking image-webp v0.1.2
    Checking tiff v0.9.1
    Checking rand_chacha v0.3.1
    Checking exr v1.72.0
    Checking ravif v0.11.5
    Checking zune-jpeg v0.4.11
    Checking egui-winit v0.23.0
    Checking simba v0.8.1
    Checking qoi v0.4.1
    Checking byteorder v1.5.0
    Checking iana-time-zone v0.1.60
    Checking chrono v0.4.38
   Compiling nalgebra-macros v0.2.1
    Checking image v0.25.1
    Checking rand v0.8.5
    Checking nalgebra v0.32.5
    Checking egui_glium v0.23.0
    Checking duck v0.1.0 (/tmp/nix-shell.uUVugk/michal12334_duck_58k8fz5k)
error[E0277]: the trait bound `UniformsStorage<'_, [[f32; 4]; 4], EmptyUniforms>: Unsize<...>` is not satisfied in `UniformsStorage<'_, &Texture2d, UniformsStorage<'_, &Texture2d, ...>>`
   --> src/water/water_drawer.rs:170:17
    |
170 | /                 &uniform! {
171 | |                     perspective: perspective.data.0,
172 | |                     view: view.data.0,
173 | |                     model: model.data.0,
...   |
179 | |                     normal_tex: normal_tex,
180 | |                 },
    | |_________________^ unsatisfied trait bound
    |
    = help: within `UniformsStorage<'_, &Texture2d, UniformsStorage<'_, &Texture2d, ...>>`, the nightly-only, unstable trait `Unsize<UniformsStorage<'_, [[f32; 4]; 4], EmptyUniforms>>` is not implemented for `UniformsStorage<'_, [[f32; 4]; 4], EmptyUniforms>`
    = note: all implementations of `Unsize` are provided automatically by the compiler, see <https://doc.rust-lang.org/stable/std/marker/trait.Unsize.html> for more information
note: required because it appears within the type `UniformsStorage<'_, [[f32; 4]; 4], UniformsStorage<'_, [[f32; 4]; 4], EmptyUniforms>>`
   --> /home/adwin/.cargo/registry/src/mirrors.tuna.tsinghua.edu.cn-4dc01642fd091eda/glium-0.33.0/src/uniforms/uniforms.rs:16:12
    |
 16 | pub struct UniformsStorage<'n, T, R> where T: AsUniformValue, R: Uniforms {
    |            ^^^^^^^^^^^^^^^
note: required because it appears within the type `UniformsStorage<'_, [[f32; 4]; 4], ...>`
   --> /home/adwin/.cargo/registry/src/mirrors.tuna.tsinghua.edu.cn-4dc01642fd091eda/glium-0.33.0/src/uniforms/uniforms.rs:16:12
    |
 16 | pub struct UniformsStorage<'n, T, R> where T: AsUniformValue, R: Uniforms {
    |            ^^^^^^^^^^^^^^^
note: required because it appears within the type `UniformsStorage<'_, [f32; 3], UniformsStorage<'_, [[f32; 4]; 4], ...>>`
   --> /home/adwin/.cargo/registry/src/mirrors.tuna.tsinghua.edu.cn-4dc01642fd091eda/glium-0.33.0/src/uniforms/uniforms.rs:16:12
    |
 16 | pub struct UniformsStorage<'n, T, R> where T: AsUniformValue, R: Uniforms {
    |            ^^^^^^^^^^^^^^^
note: required because it appears within the type `UniformsStorage<'_, f32, UniformsStorage<'_, [f32; 3], ...>>`
   --> /home/adwin/.cargo/registry/src/mirrors.tuna.tsinghua.edu.cn-4dc01642fd091eda/glium-0.33.0/src/uniforms/uniforms.rs:16:12
    |
 16 | pub struct UniformsStorage<'n, T, R> where T: AsUniformValue, R: Uniforms {
    |            ^^^^^^^^^^^^^^^
note: required because it appears within the type `UniformsStorage<'_, &Texture2d, UniformsStorage<'_, f32, ...>>`
   --> /home/adwin/.cargo/registry/src/mirrors.tuna.tsinghua.edu.cn-4dc01642fd091eda/glium-0.33.0/src/uniforms/uniforms.rs:16:12
    |
 16 | pub struct UniformsStorage<'n, T, R> where T: AsUniformValue, R: Uniforms {
    |            ^^^^^^^^^^^^^^^
note: required because it appears within the type `UniformsStorage<'_, &Texture2d, UniformsStorage<'_, &Texture2d, ...>>`
   --> /home/adwin/.cargo/registry/src/mirrors.tuna.tsinghua.edu.cn-4dc01642fd091eda/glium-0.33.0/src/uniforms/uniforms.rs:16:12
    |
 16 | pub struct UniformsStorage<'n, T, R> where T: AsUniformValue, R: Uniforms {
    |            ^^^^^^^^^^^^^^^
note: required because it appears within the type `UniformsStorage<'_, &Texture2d, UniformsStorage<'_, &Texture2d, ...>>`
   --> /home/adwin/.cargo/registry/src/mirrors.tuna.tsinghua.edu.cn-4dc01642fd091eda/glium-0.33.0/src/uniforms/uniforms.rs:16:12
    |
 16 | pub struct UniformsStorage<'n, T, R> where T: AsUniformValue, R: Uniforms {
    |            ^^^^^^^^^^^^^^^
note: required because it appears within the type `UniformsStorage<'_, &Texture2d, UniformsStorage<'_, &Texture2d, ...>>`
   --> /home/adwin/.cargo/registry/src/mirrors.tuna.tsinghua.edu.cn-4dc01642fd091eda/glium-0.33.0/src/uniforms/uniforms.rs:16:12
    |
 16 | pub struct UniformsStorage<'n, T, R> where T: AsUniformValue, R: Uniforms {
    |            ^^^^^^^^^^^^^^^
    = note: required for `&UniformsStorage<'_, &Texture2d, UniformsStorage<'_, &Texture2d, ...>>` to implement `CoerceUnsized<&UniformsStorage<'_, &Texture2d, ...>>`
    = note: required for the cast from `&UniformsStorage<'_, &Texture2d, UniformsStorage<'_, &Texture2d, ...>>` to `&UniformsStorage<'_, &Texture2d, UniformsStorage<'_, &Texture2d, ...>>`
    = note: the full name for the type has been written to '/tmp/nix-shell.uUVugk/michal12334_duck_58k8fz5k/target/debug/deps/duck-aa1a7986594ba84d.long-type-7233450862710627467.txt'
    = note: consider using `--verbose` to print the full type name to the console

For more information about this error, try `rustc --explain E0277`.
error: could not compile `duck` (bin "duck") due to 1 previous error
