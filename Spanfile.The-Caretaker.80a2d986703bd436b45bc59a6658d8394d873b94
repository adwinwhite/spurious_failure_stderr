Running as unit: run-p1327096-i13907233.scope; invocation ID: efc7874c719d4f6e95152b4b7429c9d7
   Compiling libc v0.2.99
   Compiling proc-macro2 v1.0.28
   Compiling unicode-xid v0.2.2
   Compiling syn v1.0.74
   Compiling autocfg v1.0.1
    Checking cfg-if v1.0.0
   Compiling log v0.4.14
   Compiling version_check v0.9.3
   Compiling memchr v2.4.0
    Checking once_cell v1.8.0
    Checking pin-project-lite v0.2.7
   Compiling cc v1.0.69
   Compiling futures-core v0.3.16
    Checking bytes v1.0.1
    Checking spin v0.5.2
   Compiling proc-macro-hack v0.5.19
   Compiling serde_derive v1.0.127
   Compiling quote v1.0.9
    Checking itoa v0.4.7
    Checking untrusted v0.7.1
   Compiling tokio v1.10.0
   Compiling futures-macro v0.3.16
   Compiling proc-macro-nested v0.1.7
    Checking lazy_static v1.4.0
   Compiling futures-channel v0.3.16
    Checking futures-sink v0.3.16
   Compiling futures-task v0.3.16
   Compiling serde v1.0.127
    Checking mio v0.7.13
    Checking signal-hook-registry v1.4.0
   Compiling ring v0.16.20
    Checking num_cpus v1.13.0
   Compiling futures-util v0.3.16
   Compiling pq-sys v0.4.6
   Compiling typenum v1.13.0
    Checking fnv v1.0.7
    Checking http v0.2.4
   Compiling instant v0.1.10
   Compiling generic-array v0.14.4
   Compiling unicase v2.6.0
   Compiling scopeguard v1.1.0
    Checking futures-io v0.3.16
    Checking slab v0.4.4
    Checking matches v0.1.9
   Compiling httparse v1.4.1
   Compiling smallvec v1.6.1
    Checking pin-utils v0.1.0
   Compiling getrandom v0.1.16
    Checking tinyvec_macros v0.1.0
   Compiling parking_lot_core v0.8.3
    Checking tinyvec v1.3.1
   Compiling lock_api v0.4.4
   Compiling indexmap v1.7.0
    Checking percent-encoding v2.1.0
    Checking unicode-normalization v0.1.19
    Checking form_urlencoded v1.0.1
   Compiling parking_lot v0.11.1
    Checking tracing-core v0.1.18
    Checking unicode-bidi v0.3.6
    Checking byteorder v1.4.3
    Checking base64 v0.13.0
   Compiling ryu v1.0.5
    Checking hashbrown v0.11.2
    Checking idna v0.2.3
    Checking rand_core v0.5.1
   Compiling scheduled-thread-pool v0.2.5
   Compiling num-traits v0.2.14
    Checking ppv-lite86 v0.2.10
    Checking try-lock v0.2.3
    Checking want v0.3.0
   Compiling mime_guess v2.0.3
   Compiling r2d2 v0.8.9
    Checking url v2.2.2
    Checking webpki v0.21.4
    Checking sct v0.6.1
    Checking rand_chacha v0.2.2
    Checking digest v0.9.0
    Checking rustls v0.19.1
    Checking block-buffer v0.9.0
    Checking http-body v0.4.3
    Checking socket2 v0.4.1
   Compiling num-integer v0.1.44
   Compiling miniz_oxide v0.4.4
   Compiling crc32fast v1.2.1
   Compiling bitflags v1.3.2
    Checking cpufeatures v0.1.5
    Checking opaque-debug v0.3.0
   Compiling serde_json v1.0.66
    Checking tower-service v0.3.1
   Compiling encoding_rs v0.8.28
    Checking httpdate v1.0.1
    Checking bytes v0.5.6
   Compiling unicode-segmentation v1.8.0
    Checking sha-1 v0.9.7
    Checking rand v0.7.3
    Checking input_buffer v0.3.1
   Compiling heck v0.3.3
    Checking adler v1.0.2
    Checking utf-8 v0.7.6
   Compiling erased-serde v0.3.16
   Compiling async-trait v0.1.51
    Checking mime v0.3.16
    Checking base64 v0.12.3
    Checking tungstenite v0.11.1
    Checking webpki-roots v0.20.0
    Checking webpki-roots v0.21.1
    Checking aho-corasick v0.7.18
    Checking time v0.1.44
    Checking atty v0.2.14
   Compiling circular-queue v0.2.6
    Checking ipnet v2.3.1
   Compiling anyhow v1.0.43
   Compiling serenity v0.10.9
    Checking regex-syntax v0.6.25
    Checking colored v1.9.3
    Checking flate2 v1.0.20
    Checking hex v0.4.3
    Checking typemap_rev v0.1.5
    Checking fern v0.6.0
    Checking nilsimsa v0.2.0
    Checking dotenv v0.15.0
   Compiling paste v1.0.5
    Checking humantime v2.1.0
   Compiling tokio-macros v1.3.0
   Compiling diesel_derives v1.4.1
   Compiling tracing-attributes v0.1.15
   Compiling pin-project-internal v1.0.8
    Checking tracing v0.1.26
   Compiling thiserror-impl v1.0.26
    Checking pin-project v1.0.8
    Checking regex v1.5.4
    Checking thiserror v1.0.26
   Compiling strum_macros v0.21.1
    Checking futures v0.3.16
   Compiling diesel-derive-enum v1.1.1
    Checking strum v0.21.0
   Compiling enum_dispatch v0.3.7
   Compiling diesel v1.4.7
    Checking tokio-util v0.6.7
    Checking tokio-rustls v0.22.0
    Checking async-tungstenite v0.11.0
    Checking h2 v0.3.3
    Checking serde_urlencoded v0.7.0
    Checking chrono v0.4.19
    Checking hyper v0.14.11
    Checking dynfmt v0.1.5
    Checking envy v0.4.2
    Checking hyper-rustls v0.22.1
    Checking reqwest v0.11.4
    Checking migrations_internals v1.4.1
   Compiling migrations_macros v1.4.2
error: linking with `cc` failed: exit status: 1
  |
  = note:  "cc" "-Wl,--version-script=/tmp/nix-shell.uUVugk/Spanfile_The-Caretaker_5o_k40uj/target/debug/deps/rustccK9VQ3/list" "-Wl,--no-undefined-version" "-m64" "/tmp/nix-shell.uUVugk/Spanfile_The-Caretaker_5o_k40uj/target/debug/deps/rustccK9VQ3/symbols.o" "<4 object files omitted>" "/tmp/nix-shell.uUVugk/Spanfile_The-Caretaker_5o_k40uj/target/debug/deps/rustccK9VQ3/rmeta.o" "<1 object files omitted>" "-Wl,--as-needed" "-Wl,-Bstatic" "/tmp/nix-shell.uUVugk/Spanfile_The-Caretaker_5o_k40uj/target/debug/deps/{libsyn-115a261ebb0210a0,libquote-41ebc43fe1198315,libproc_macro2-7af126c110aaedc0,libunicode_xid-00eba0ed0e789dae}.rlib" "<sysroot>/lib/rustlib/x86_64-unknown-linux-gnu/lib/{libproc_macro-*,librustc_literal_escaper-*}.rlib" "/tmp/nix-shell.uUVugk/Spanfile_The-Caretaker_5o_k40uj/target/debug/deps/{libmigrations_internals-2b1a69ba23640060,libdiesel-f6cfa762bf4d3cf3,libpq_sys-b6494ce58b3c34c2,libr2d2-a801c7555afaaaff,libscheduled_thread_pool-6522398c6e058ee2,libparking_lot-5713ae501cd0481e,libparking_lot_core-7590bbc14caa0f73,liblibc-744f7a28fd96407d,libsmallvec-a2fe6d698e915e19,liblock_api-36a629d501502a6f,libscopeguard-2df2a689e64016b1,libinstant-c9c1748aa7536acf,liblog-ca5a5c6c032f05e8,libcfg_if-51c511c8c5af069c,libbyteorder-c0a8ce3869280ab9,libbitflags-a6bb40febbf12c7f}.rlib" "<sysroot>/lib/rustlib/x86_64-unknown-linux-gnu/lib/{libstd-*,libpanic_unwind-*,libobject-*,libmemchr-*,libaddr2line-*,libgimli-*,libcfg_if-*,librustc_demangle-*,libstd_detect-*,libhashbrown-*,librustc_std_workspace_alloc-*,libminiz_oxide-*,libadler2-*,libunwind-*,liblibc-*,librustc_std_workspace_core-*,liballoc-*,libcore-*,libcompiler_builtins-*}.rlib" "-Wl,-Bdynamic" "-lpq" "-lgcc_s" "-lutil" "-lrt" "-lpthread" "-lm" "-ldl" "-lc" "-L" "/tmp/nix-shell.uUVugk/Spanfile_The-Caretaker_5o_k40uj/target/debug/deps/rustccK9VQ3/raw-dylibs" "-B<sysroot>/lib/rustlib/x86_64-unknown-linux-gnu/bin/gcc-ld" "-fuse-ld=lld" "-Wl,--eh-frame-hdr" "-Wl,-z,noexecstack" "-L" "<sysroot>/lib/rustlib/x86_64-unknown-linux-gnu/lib" "-o" "/tmp/nix-shell.uUVugk/Spanfile_The-Caretaker_5o_k40uj/target/debug/deps/libmigrations_macros-384fd2bf60bc2bba.so" "-Wl,--gc-sections" "-shared" "-Wl,-z,relro,-z,now" "-Wl,--strip-debug" "-nodefaultlibs"
  = note: some arguments are omitted. use `--verbose` to show all linker arguments
  = note: rust-lld: error: unable to find library -lpq
          collect2: error: ld returned 1 exit status
          

error: could not compile `migrations_macros` (lib) due to 1 previous error
warning: build failed, waiting for other jobs to finish...
