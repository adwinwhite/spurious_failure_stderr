Running as unit: run-p1748156-i14328264.scope; invocation ID: d3d4591520d9415d97594d8cdc196a14
warning: virtual workspace defaulting to `resolver = "1"` despite one or more workspace members being on edition 2021 which implies `resolver = "2"`
  |
  = note: to keep the current resolver, specify `workspace.resolver = "1"` in the workspace root's manifest
  = note: to use the edition 2021 resolver, specify `workspace.resolver = "2"` in the workspace root's manifest
  = note: for more details see https://doc.rust-lang.org/cargo/reference/resolver.html#resolver-versions
   Compiling libc v0.2.168
   Compiling proc-macro2 v1.0.92
   Compiling unicode-ident v1.0.14
   Compiling autocfg v1.4.0
   Compiling shlex v1.3.0
    Checking cfg-if v1.0.0
   Compiling parking_lot_core v0.9.10
    Checking bytes v1.9.0
    Checking pin-project-lite v0.2.15
    Checking once_cell v1.20.2
    Checking scopeguard v1.2.0
    Checking smallvec v1.13.2
   Compiling lock_api v0.4.12
   Compiling slab v0.4.9
    Checking memchr v2.7.4
   Compiling rustversion v1.0.18
   Compiling quote v1.0.37
   Compiling version_check v0.9.5
    Checking futures-core v0.3.31
   Compiling syn v2.0.90
    Checking equivalent v1.0.1
    Checking foldhash v0.1.3
    Checking byteorder v1.5.0
   Compiling httparse v1.9.5
    Checking allocator-api2 v0.2.21
   Compiling indexmap v1.9.3
    Checking fnv v1.0.7
   Compiling pkg-config v0.3.31
   Compiling jobserver v0.1.32
    Checking signal-hook-registry v1.4.2
    Checking socket2 v0.5.8
    Checking parking_lot v0.12.3
    Checking getrandom v0.2.15
   Compiling cc v1.2.4
    Checking mio v1.0.3
    Checking hashbrown v0.15.2
    Checking futures-sink v0.3.31
   Compiling serde v1.0.216
    Checking itoa v1.0.14
   Compiling anyhow v1.0.94
    Checking futures-channel v0.3.31
   Compiling either v1.13.0
    Checking futures-io v0.3.31
    Checking futures-task v0.3.31
    Checking pin-utils v0.1.0
    Checking indexmap v2.7.0
   Compiling itertools v0.10.5
    Checking rand_core v0.6.4
   Compiling syn v1.0.109
   Compiling ring v0.17.8
    Checking tracing-core v0.1.33
    Checking log v0.4.22
   Compiling openssl-src v300.4.1+3.4.0
    Checking hashbrown v0.12.3
    Checking bitflags v2.6.0
   Compiling vcpkg v0.2.15
   Compiling openssl-sys v0.9.104
   Compiling axum-core v0.3.4
   Compiling num-traits v0.2.19
   Compiling rustls v0.21.12
   Compiling rustix v0.38.42
   Compiling heck v0.5.0
   Compiling crossbeam-utils v0.8.21
   Compiling http v0.2.12
   Compiling zstd-sys v2.0.13+zstd.1.5.6
    Checking bitflags v1.3.2
   Compiling typenum v1.17.0
    Checking httpdate v1.0.3
    Checking untrusted v0.9.0
   Compiling tokio-macros v2.4.0
   Compiling zerocopy-derive v0.7.35
   Compiling futures-macro v0.3.31
    Checking tokio v1.42.0
   Compiling tracing-attributes v0.1.28
    Checking zerocopy v0.7.35
   Compiling serde_derive v1.0.216
    Checking ppv-lite86 v0.2.20
    Checking futures-util v0.3.31
   Compiling async-trait v0.1.83
    Checking rand_chacha v0.3.1
   Compiling async-stream-impl v0.3.6
   Compiling prost-derive v0.12.6
    Checking rand v0.8.5
    Checking tracing v0.1.41
   Compiling pin-project-internal v1.1.7
    Checking spin v0.9.8
    Checking tokio-util v0.7.13
   Compiling axum v0.6.20
   Compiling proc-macro-error-attr v1.0.4
   Compiling generic-array v0.14.7
    Checking aho-corasick v1.1.3
   Compiling tower-service v0.3.3
    Checking regex-syntax v0.8.5
    Checking percent-encoding v2.3.1
   Compiling prettyplease v0.2.25
    Checking regex-automata v0.4.9
    Checking tokio-stream v0.1.17
    Checking async-stream v0.3.6
   Compiling trackable_derive v1.0.0
   Compiling http-body v0.4.6
   Compiling cmake v0.1.52
   Compiling proc-macro-error v1.0.4
    Checking thread_local v1.1.8
   Compiling try-lock v0.2.5
   Compiling openssl v0.10.68
    Checking foreign-types-shared v0.1.1
   Compiling zstd-safe v7.2.1
    Checking foreign-types v0.3.2
   Compiling libz-ng-sys v1.1.20
   Compiling want v0.3.1
    Checking regex v1.11.1
    Checking trackable v1.3.0
   Compiling h2 v0.3.26
   Compiling prost v0.12.6
   Compiling openssl-macros v0.1.1
    Checking http v1.2.0
   Compiling memoffset v0.6.5
    Checking arrayvec v0.7.6
   Compiling tokio-openssl v0.6.5
   Compiling tower-layer v0.3.3
    Checking gimli v0.31.1
    Checking alloc-no-stdlib v2.0.4
   Compiling paste v1.0.15
   Compiling thiserror v1.0.69
   Compiling protobuf v2.28.0
   Compiling rust_decimal v1.36.0
    Checking adler2 v2.0.0
    Checking miniz_oxide v0.8.2
    Checking alloc-stdlib v0.2.2
   Compiling hyper v0.14.32
    Checking trackable v0.2.24
    Checking addr2line v0.24.2
   Compiling rustls-webpki v0.101.7
   Compiling sct v0.7.1
   Compiling pin-project v1.1.7
   Compiling thiserror-impl v1.0.69
   Compiling ahash v0.8.11
    Checking object v0.36.5
   Compiling mime v0.3.17
    Checking pingora-error v0.4.0
    Checking linked-hash-map v0.5.6
    Checking os_str_bytes v6.6.1
   Compiling prometheus v0.13.4
   Compiling linux-raw-sys v0.4.14
   Compiling heck v0.4.1
    Checking rustc-demangle v0.1.24
   Compiling clap_derive v3.2.25
    Checking backtrace v0.3.74
    Checking clap_lex v0.2.4
    Checking yaml-rust v0.4.5
    Checking pingora-http v0.4.0
   Compiling tower v0.4.13
    Checking brotli-decompressor v2.5.1
    Checking zstd v0.13.2
   Compiling prost-types v0.12.6
    Checking crypto-common v0.1.6
    Checking block-buffer v0.10.4
    Checking pingora-timeout v0.4.0
   Compiling tokio-io-timeout v1.2.0
    Checking crossbeam-queue v0.3.12
    Checking crossbeam-channel v0.5.14
    Checking futures-executor v0.3.31
   Compiling strum_macros v0.26.4
   Compiling ring v0.16.20
    Checking lru v0.12.5
    Checking atty v0.2.14
    Checking crc32fast v1.4.2
   Compiling base64 v0.21.7
    Checking termcolor v1.4.1
   Compiling sync_wrapper v0.1.2
    Checking ryu v1.0.18
    Checking textwrap v0.16.1
   Compiling fastrand v2.3.0
    Checking strsim v0.10.0
    Checking atomic-waker v1.1.2
    Checking subtle v2.6.1
   Compiling matchit v0.7.3
    Checking data-encoding v2.6.0
    Checking lazy_static v1.5.0
   Compiling fixedbitset v0.4.2
    Checking match_cfg v0.1.0
    Checking hostname v0.3.1
   Compiling petgraph v0.6.5
    Checking sfv v0.9.4
    Checking strum v0.26.3
    Checking digest v0.10.7
    Checking h2 v0.4.7
    Checking clap v3.2.25
   Compiling tempfile v3.14.0
    Checking serde_yaml v0.8.26
   Compiling rustls-pemfile v1.0.4
    Checking pingora-pool v0.4.0
    Checking rustracing v0.5.1
    Checking futures v0.3.31
   Compiling hyper-timeout v0.4.1
   Compiling tokio-rustls v0.24.1
    Checking rmp v0.8.14
    Checking brotli v3.5.0
    Checking nix v0.24.3
    Checking thrift_codec v0.1.1
    Checking pingora-runtime v0.4.0
    Checking tokio-test v0.4.4
    Checking chrono v0.4.39
    Checking daemonize v0.5.0
    Checking unicase v2.8.0
   Compiling multimap v0.8.3
    Checking openssl-probe v0.1.5
   Compiling prost-build v0.12.6
   Compiling tonic v0.10.2
    Checking rustracing_jaeger v0.7.0
    Checking rmp-serde v1.3.0
    Checking blake2 v0.10.6
    Checking pingora-header-serde v0.4.0
    Checking pingora-lru v0.4.0
    Checking hex v0.4.3
    Checking spin v0.5.2
    Checking untrusted v0.7.1
   Compiling rustls v0.20.9
   Compiling tonic-types v0.10.2
   Compiling tonic-build v0.10.2
    Checking webpki v0.22.4
   Compiling server v0.1.0 (/tmp/nix-shell.uUVugk/davihsg_pingora-grpc-web_igpk6uw7/server)
error: failed to run custom build command for `server v0.1.0 (/tmp/nix-shell.uUVugk/davihsg_pingora-grpc-web_igpk6uw7/server)`

Caused by:
  process didn't exit successfully: `/tmp/nix-shell.uUVugk/davihsg_pingora-grpc-web_igpk6uw7/target/debug/build/server-280d06b5d1302085/build-script-build` (exit status: 1)
  --- stdout
  cargo:rerun-if-changed=../protos/helloworld.proto
  cargo:rerun-if-changed=../protos

  --- stderr
  Error: Custom { kind: NotFound, error: "Could not find `protoc`. If `protoc` is installed, try setting the `PROTOC` environment variable to the path of the `protoc` binary. To install it on Debian, run `apt-get install protobuf-compiler`. It is also available at https://github.com/protocolbuffers/protobuf/releases  For more information: https://docs.rs/prost-build/#sourcing-protoc" }
warning: build failed, waiting for other jobs to finish...
