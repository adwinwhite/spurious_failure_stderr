Running as unit: run-p2283844-i14863952.scope; invocation ID: 16a14b2543d641e9b28e3c8da8aab984
    Blocking waiting for file lock on package cache
    Blocking waiting for file lock on package cache
    Blocking waiting for file lock on package cache
   Compiling autocfg v1.0.0
   Compiling proc-macro2 v1.0.12
   Compiling unicode-xid v0.2.0
   Compiling bitflags v1.2.1
   Compiling pq-sys v0.4.6
   Compiling syn v1.0.18
   Compiling byteorder v1.3.4
   Compiling serde v1.0.106
   Compiling num-traits v0.2.11
   Compiling num-integer v0.1.42
   Compiling num-bigint v0.2.6
   Compiling quote v1.0.4
   Compiling bigdecimal v0.1.0
   Compiling diesel_derives v2.0.0 (https://github.com/diesel-rs/diesel?rev=968e7f79c#968e7f79)
   Compiling diesel v2.0.0 (https://github.com/diesel-rs/diesel?rev=968e7f79c#968e7f79)
   Compiling migrations_internals v1.4.1 (https://github.com/diesel-rs/diesel?rev=968e7f79c#968e7f79)
   Compiling migrations_macros v1.4.2 (https://github.com/diesel-rs/diesel?rev=968e7f79c#968e7f79)
error: linking with `cc` failed: exit status: 1
  |
  = note:  "cc" "-Wl,--version-script=/tmp/nix-shell.uUVugk/leoyvens_diesel-numeric-bug_g45wu957/target/debug/deps/rustcIv9PUu/list" "-Wl,--no-undefined-version" "-m64" "/tmp/nix-shell.uUVugk/leoyvens_diesel-numeric-bug_g45wu957/target/debug/deps/rustcIv9PUu/symbols.o" "<8 object files omitted>" "/tmp/nix-shell.uUVugk/leoyvens_diesel-numeric-bug_g45wu957/target/debug/deps/rustcIv9PUu/rmeta.o" "<1 object files omitted>" "-Wl,--as-needed" "-Wl,-Bstatic" "/tmp/nix-shell.uUVugk/leoyvens_diesel-numeric-bug_g45wu957/target/debug/deps/{libsyn-7fc3a7c0fbc905cd,libquote-782af7bd572d91b5,libproc_macro2-e20c2d2ccd4c12ac,libunicode_xid-a2485983127afdeb}.rlib" "<sysroot>/lib/rustlib/x86_64-unknown-linux-gnu/lib/{libproc_macro-*,librustc_literal_escaper-*}.rlib" "/tmp/nix-shell.uUVugk/leoyvens_diesel-numeric-bug_g45wu957/target/debug/deps/{libmigrations_internals-9a79cd4747c7e9b4,libdiesel-e2c199f3aa3588a6,libpq_sys-b6494ce58b3c34c2,libbigdecimal-679a905bc7b1e5ee,libnum_bigint-232d9aced14422c3,libnum_integer-2a34d131b30e9211,libnum_traits-0e874efd9b5a1adb,libbyteorder-6a911017986a2786,libbitflags-7ac72ee85ee3eef3}.rlib" "<sysroot>/lib/rustlib/x86_64-unknown-linux-gnu/lib/{libstd-*,libpanic_unwind-*,libobject-*,libmemchr-*,libaddr2line-*,libgimli-*,libcfg_if-*,librustc_demangle-*,libstd_detect-*,libhashbrown-*,librustc_std_workspace_alloc-*,libminiz_oxide-*,libadler2-*,libunwind-*,liblibc-*,librustc_std_workspace_core-*,liballoc-*,libcore-*,libcompiler_builtins-*}.rlib" "-Wl,-Bdynamic" "-lpq" "-lgcc_s" "-lutil" "-lrt" "-lpthread" "-lm" "-ldl" "-lc" "-L" "/tmp/nix-shell.uUVugk/leoyvens_diesel-numeric-bug_g45wu957/target/debug/deps/rustcIv9PUu/raw-dylibs" "-B<sysroot>/lib/rustlib/x86_64-unknown-linux-gnu/bin/gcc-ld" "-fuse-ld=lld" "-Wl,--eh-frame-hdr" "-Wl,-z,noexecstack" "-L" "<sysroot>/lib/rustlib/x86_64-unknown-linux-gnu/lib" "-o" "/tmp/nix-shell.uUVugk/leoyvens_diesel-numeric-bug_g45wu957/target/debug/deps/libmigrations_macros-a5c1c9c4dff8d086.so" "-Wl,--gc-sections" "-shared" "-Wl,-z,relro,-z,now" "-Wl,--strip-debug" "-nodefaultlibs"
  = note: some arguments are omitted. use `--verbose` to show all linker arguments
  = note: rust-lld: error: unable to find library -lpq
          collect2: error: ld returned 1 exit status
          

error: could not compile `migrations_macros` (lib) due to 1 previous error
warning: build failed, waiting for other jobs to finish...
